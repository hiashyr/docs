

<!DOCTYPE html>
<html class="writer-html5" lang="ru" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; документация Проект Django на русском 1.0.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=5d928502" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=e35015f7"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/translations.js?v=9bfe3ffa"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Проект Django на русском
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Пошаговое руководство:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Настройка окружения и установка Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="project-structure.html">Создание структуры проекта ekz</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Создание моделей базы данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Создание представлений (Views)</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Создание HTML шаблонов</a></li>
<li class="toctree-l1"><a class="reference internal" href="urls.html">Настройка URL-маршрутов</a></li>
<li class="toctree-l1"><a class="reference internal" href="forms.html">Работа с формами в Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin.html">Настройка админ-панели Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Работа с Git для локального репозитория</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Проект Django на русском</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>views.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">login</span><span class="p">,</span> <span class="n">logout</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.backends</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelBackend</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.forms</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">CustomUserCreationForm</span><span class="p">,</span>
    <span class="n">PhoneAuthForm</span><span class="p">,</span>
    <span class="n">EmailAuthForm</span><span class="p">,</span>
    <span class="n">UsernameAuthForm</span><span class="p">,</span>
    <span class="n">CartItemQuantityForm</span><span class="p">,</span>
    <span class="n">OrderForm</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">Category</span><span class="p">,</span>
    <span class="n">Product</span><span class="p">,</span>
    <span class="n">CartItem</span><span class="p">,</span>
    <span class="n">Order</span><span class="p">,</span>
    <span class="n">OrderItem</span>
<span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">contacts_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/contacts.html&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main_page</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># Get popular products for display</span>
    <span class="n">popular_products</span> <span class="o">=</span> <span class="n">Product</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()[:</span><span class="mi">8</span><span class="p">]</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;popular_products&#39;</span><span class="p">:</span> <span class="n">popular_products</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/main_page.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">register_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">CustomUserCreationForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;django.contrib.auth.backends.ModelBackend&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;main_page&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">CustomUserCreationForm</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;components/register.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>

<span class="k">def</span><span class="w"> </span><span class="nf">login_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">auth_type</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;auth_type&#39;</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tab&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">auth_type</span> <span class="o">==</span> <span class="s1">&#39;phone&#39;</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">PhoneAuthForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">auth_type</span> <span class="o">==</span> <span class="s1">&#39;email&#39;</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">EmailAuthForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">UsernameAuthForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span>
            <span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;django.contrib.auth.backends.ModelBackend&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;main_page&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">auth_type</span> <span class="o">==</span> <span class="s1">&#39;phone&#39;</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">PhoneAuthForm</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">auth_type</span> <span class="o">==</span> <span class="s1">&#39;email&#39;</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">EmailAuthForm</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">UsernameAuthForm</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;components/login.html&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span>
        <span class="s1">&#39;active_tab&#39;</span><span class="p">:</span> <span class="n">auth_type</span>
    <span class="p">})</span>

<span class="k">def</span><span class="w"> </span><span class="nf">logout_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">logout</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;main_page&#39;</span><span class="p">)</span>

<span class="c1"># 1. Каталог с фильтрацией</span>
<span class="k">def</span><span class="w"> </span><span class="nf">catalog_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">categories</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Получение фильтров из GET-параметров</span>
    <span class="n">category_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
    <span class="n">search_query</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span>
    <span class="n">min_price</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_price&#39;</span><span class="p">)</span>
    <span class="n">max_price</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_price&#39;</span><span class="p">)</span>

    <span class="c1"># Начинаем с полной выборки товаров</span>
    <span class="n">products</span> <span class="o">=</span> <span class="n">Product</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Применяем фильтры</span>
    <span class="k">if</span> <span class="n">category_id</span><span class="p">:</span>
        <span class="n">products</span> <span class="o">=</span> <span class="n">products</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">search_query</span><span class="p">:</span>
        <span class="n">products</span> <span class="o">=</span> <span class="n">products</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">Q</span><span class="p">(</span><span class="n">name__icontains</span><span class="o">=</span><span class="n">search_query</span><span class="p">)</span> <span class="o">|</span>
            <span class="n">Q</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_query</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">min_price</span><span class="p">:</span>
        <span class="n">products</span> <span class="o">=</span> <span class="n">products</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">price__gte</span><span class="o">=</span><span class="n">min_price</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">max_price</span><span class="p">:</span>
        <span class="n">products</span> <span class="o">=</span> <span class="n">products</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">price__lte</span><span class="o">=</span><span class="n">max_price</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;categories&#39;</span><span class="p">:</span> <span class="n">categories</span><span class="p">,</span>
        <span class="s1">&#39;products&#39;</span><span class="p">:</span> <span class="n">products</span><span class="p">,</span>
        <span class="s1">&#39;selected_category&#39;</span><span class="p">:</span> <span class="n">category_id</span><span class="p">,</span>
        <span class="s1">&#39;search_query&#39;</span><span class="p">:</span> <span class="n">search_query</span><span class="p">,</span>
        <span class="s1">&#39;min_price&#39;</span><span class="p">:</span> <span class="n">min_price</span><span class="p">,</span>
        <span class="s1">&#39;max_price&#39;</span><span class="p">:</span> <span class="n">max_price</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/catalog.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">product_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">product_id</span><span class="p">)</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="n">product</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/product_detail.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="c1"># 2. Корзина</span>
<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cart_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">cart_items</span> <span class="o">=</span> <span class="n">CartItem</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Подсчет общей суммы корзины</span>
    <span class="n">total_amount</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">get_total</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart_items</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;cart_items&#39;</span><span class="p">:</span> <span class="n">cart_items</span><span class="p">,</span>
        <span class="s1">&#39;total_amount&#39;</span><span class="p">:</span> <span class="n">total_amount</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/cart.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_to_cart</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">product_id</span><span class="p">)</span>

    <span class="c1"># Проверяем, нет ли уже такого товара в корзине</span>
    <span class="n">cart_item</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="n">CartItem</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span>
        <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">product</span><span class="o">=</span><span class="n">product</span><span class="p">,</span>
        <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="c1"># Если товар уже был в корзине, увеличиваем количество</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">created</span><span class="p">:</span>
        <span class="n">cart_item</span><span class="o">.</span><span class="n">quantity</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">cart_item</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">update_cart_item</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
    <span class="n">cart_item</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">CartItem</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">item_id</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">CartItemQuantityForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">cart_item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">remove_from_cart</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
    <span class="n">cart_item</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">CartItem</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">item_id</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="n">cart_item</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">)</span>

<span class="c1"># 4. Формирование заказа</span>
<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">checkout_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">cart_items</span> <span class="o">=</span> <span class="n">CartItem</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cart_items</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">)</span>
    <span class="n">total_amount</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">get_total</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart_items</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">OrderForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">order</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">order</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>
            <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="o">=</span> <span class="n">total_amount</span>
            <span class="n">order</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">cart_item</span> <span class="ow">in</span> <span class="n">cart_items</span><span class="p">:</span>
                <span class="n">OrderItem</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                    <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
                    <span class="n">product</span><span class="o">=</span><span class="n">cart_item</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
                    <span class="n">quantity</span><span class="o">=</span><span class="n">cart_item</span><span class="o">.</span><span class="n">quantity</span><span class="p">,</span>
                    <span class="n">price</span><span class="o">=</span><span class="n">cart_item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">price</span>
                <span class="p">)</span>
            <span class="n">cart_items</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;order_success&#39;</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="n">order</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">initial_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;shipping_address&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
            <span class="s1">&#39;phone&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">phone</span><span class="p">,</span>
            <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">email</span>
        <span class="p">}</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">OrderForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="n">initial_data</span><span class="p">)</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span>
        <span class="s1">&#39;cart_items&#39;</span><span class="p">:</span> <span class="n">cart_items</span><span class="p">,</span>
        <span class="s1">&#39;total_amount&#39;</span><span class="p">:</span> <span class="n">total_amount</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/checkout.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">order_success_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">order_id</span><span class="p">):</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">order_id</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="n">order</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/order_success.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">orders_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">orders</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-created_at&#39;</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;orders&#39;</span><span class="p">:</span> <span class="n">orders</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/orders.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">order_detail_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">order_id</span><span class="p">):</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">order_id</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="n">order_items</span> <span class="o">=</span> <span class="n">OrderItem</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>
        <span class="s1">&#39;order_items&#39;</span><span class="p">:</span> <span class="n">order_items</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/order_detail.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">profile_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">user</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">phone</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">phone</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">address</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">city</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">country</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;avatar&#39;</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="p">:</span>
            <span class="n">user</span><span class="o">.</span><span class="n">avatar</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="p">[</span><span class="s1">&#39;avatar&#39;</span><span class="p">]</span>

        <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">)</span>

    <span class="n">orders</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-created_at&#39;</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span>
        <span class="s1">&#39;orders&#39;</span><span class="p">:</span> <span class="n">orders</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;pages/profile.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>urls.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">front</span><span class="w"> </span><span class="kn">import</span> <span class="n">views</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.conf.urls.static</span><span class="w"> </span><span class="kn">import</span> <span class="n">static</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.conf</span><span class="w"> </span><span class="kn">import</span> <span class="n">settings</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Администрирование и аутентификация</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;admin&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">main_page</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;main_page&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;register/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">register_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;register&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;login/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">login_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;logout/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">logout_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;logout&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;profile/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">profile_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;profile&#39;</span><span class="p">),</span>

    <span class="c1"># 1. Каталог товаров</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;catalog/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">catalog_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;catalog&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;product/&lt;int:product_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">product_detail_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;product_detail&#39;</span><span class="p">),</span>

    <span class="c1"># 2. Корзина</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;cart/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">cart_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cart&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;cart/add/&lt;int:product_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">add_to_cart</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;add_to_cart&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;cart/update/&lt;int:item_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">update_cart_item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;update_cart_item&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;cart/remove/&lt;int:item_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">remove_from_cart</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;remove_from_cart&#39;</span><span class="p">),</span>

    <span class="c1"># 3. Заказы</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;checkout/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">checkout_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;checkout&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;order/success/&lt;int:order_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">order_success_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;order_success&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;orders/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">orders_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;orders&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;order/&lt;int:order_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">order_detail_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;order_detail&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;contacts/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">contacts_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;contacts&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">:</span>
    <span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">static</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">,</span> <span class="n">document_root</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_ROOT</span><span class="p">)</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>forms.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">authenticate</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">UserCreationForm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.core.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">CustomUser</span><span class="p">,</span> <span class="n">Product</span><span class="p">,</span> <span class="n">Category</span><span class="p">,</span> <span class="n">CartItem</span><span class="p">,</span> <span class="n">Order</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.utils.translation</span><span class="w"> </span><span class="kn">import</span> <span class="n">gettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomUserCreationForm</span><span class="p">(</span><span class="n">UserCreationForm</span><span class="p">):</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;placeholder&#39;</span><span class="p">:</span> <span class="s1">&#39;+7XXXXXXXXXX&#39;</span><span class="p">}),</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s1">&#39;Введите номер телефона в формате +7XXXXXXXXXX&#39;</span>
    <span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">CustomUser</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">,</span> <span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">,</span>
                <span class="s1">&#39;password1&#39;</span><span class="p">,</span> <span class="s1">&#39;password2&#39;</span><span class="p">,</span> <span class="s1">&#39;avatar&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">phone</span><span class="p">:</span>
            <span class="c1"># Проверка формата номера телефона для России</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\+7\d</span><span class="si">{10}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">phone</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Номер телефона должен быть в формате +7XXXXXXXXXX&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">phone</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PhoneAuthForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;placeholder&#39;</span><span class="p">:</span> <span class="s1">&#39;+7XXXXXXXXXX&#39;</span><span class="p">}),</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s1">&#39;Введите номер телефона в формате +7XXXXXXXXXX&#39;</span>
    <span class="p">)</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">PasswordInput</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">phone</span><span class="p">:</span>
            <span class="c1"># Проверка формата номера телефона для России</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\+7\d</span><span class="si">{10}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">phone</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Номер телефона должен быть в формате +7XXXXXXXXXX&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">phone</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cleaned_data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">phone</span> <span class="ow">and</span> <span class="n">password</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">authenticate</span><span class="p">(</span><span class="n">phone</span><span class="o">=</span><span class="n">phone</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Неверный телефон или пароль&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cleaned_data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">EmailAuthForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">PasswordInput</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cleaned_data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">email</span> <span class="ow">and</span> <span class="n">password</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">authenticate</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Неверный email или пароль&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cleaned_data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">UsernameAuthForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">PasswordInput</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cleaned_data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">username</span> <span class="ow">and</span> <span class="n">password</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">authenticate</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Неверный логин или пароль&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cleaned_data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CategoryForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Category</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">]</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ProductForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Product</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">]</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CartItemForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">CartItem</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">]</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CartItemQuantityForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">CartItem</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span>

<span class="k">class</span><span class="w"> </span><span class="nc">OrderForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;placeholder&#39;</span><span class="p">:</span> <span class="s1">&#39;+7XXXXXXXXXX&#39;</span><span class="p">}),</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s1">&#39;Введите номер телефона в формате +7XXXXXXXXXX&#39;</span>
    <span class="p">)</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Order</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;shipping_address&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">clean_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">phone</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\+7\d</span><span class="si">{10}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">phone</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Номер телефона должен быть в формате +7XXXXXXXXXX&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">phone</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>backends.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.backends</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelBackend</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_user_model</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>

<span class="n">User</span> <span class="o">=</span> <span class="n">get_user_model</span><span class="p">()</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MultiFieldAuthBackend</span><span class="p">(</span><span class="n">ModelBackend</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Если в kwargs есть email или phone, используем их вместо username</span>
        <span class="k">if</span> <span class="s1">&#39;email&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">username</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
            <span class="n">field</span> <span class="o">=</span> <span class="s1">&#39;email&#39;</span>
        <span class="k">elif</span> <span class="s1">&#39;phone&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">username</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
            <span class="n">field</span> <span class="o">=</span> <span class="s1">&#39;phone&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="s1">&#39;username&#39;</span>

        <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Строим запрос на основе используемого поля</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s1">&#39;phone&#39;</span><span class="p">:</span>
                <span class="c1"># Нормализация телефона (удаление пробелов, скобок, дефисов)</span>
                <span class="n">clean_phone</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">username</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span>
                <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">phone</span><span class="o">=</span><span class="n">clean_phone</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s1">&#39;email&#39;</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">email__iexact</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Если это обычный логин или запрос с неизвестного поля,</span>
                <span class="c1"># пробуем найти по всем полям</span>
                <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">Q</span><span class="p">(</span><span class="n">phone</span><span class="o">=</span><span class="n">username</span><span class="p">)</span> <span class="o">|</span>
                    <span class="n">Q</span><span class="p">(</span><span class="n">email__iexact</span><span class="o">=</span><span class="n">username</span><span class="p">)</span> <span class="o">|</span>
                    <span class="n">Q</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">check_password</span><span class="p">(</span><span class="n">password</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">user</span>
        <span class="k">except</span> <span class="n">User</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="n">User</span><span class="o">.</span><span class="n">MultipleObjectsReturned</span><span class="p">:</span>
            <span class="c1"># Если найдено несколько пользователей, возвращаем None для безопасности</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">User</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>base.html:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">load</span> <span class="nv">static</span> <span class="cp">%}</span>
<span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang=&quot;ru&quot; class=&quot;h-100&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="x">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x">МОЙ НЕ САМ</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">&lt;/title&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s1">&#39;bootstrap.min.css&#39;</span> <span class="cp">%}</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s1">&#39;bootstrap-icons.css&#39;</span> <span class="cp">%}</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s1">&#39;styles.css&#39;</span> <span class="cp">%}</span><span class="x">&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">extra_css</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="x">&lt;/head&gt;</span>

<span class="x">&lt;body class=&quot;d-flex flex-column h-100&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;components/header.html&#39;</span> <span class="cp">%}</span>

<span class="x">    &lt;main class=&quot;flex-grow-1&quot;&gt;</span>
<span class="x">        &lt;div class=&quot;container mt-4&quot;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/main&gt;</span>

<span class="x">    &lt;footer class=&quot;footer bg-light py-4 mt-auto&quot;&gt;</span>
<span class="x">        &lt;div class=&quot;container&quot;&gt;</span>
<span class="x">            &lt;div class=&quot;row&quot;&gt;</span>
<span class="x">                &lt;div class=&quot;col-md-6&quot;&gt;</span>
<span class="x">                    &lt;h5&gt;Контакты&lt;/h5&gt;</span>
<span class="x">                    &lt;p&gt;Телефон: +7 (123) 456-78-90&lt;/p&gt;</span>
<span class="x">                    &lt;p&gt;Email: info@example.com&lt;/p&gt;</span>
<span class="x">                &lt;/div&gt;</span>
<span class="x">                &lt;div class=&quot;col-md-6 text-end&quot;&gt;</span>
<span class="x">                    &lt;p&gt;&amp;copy; 2025 Магазин &quot;МОЙ НЕ САМ&quot;. Все права защищены.&lt;/p&gt;</span>
<span class="x">                &lt;/div&gt;</span>
<span class="x">            &lt;/div&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/footer&gt;</span>

<span class="x">    &lt;script src=&quot;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s1">&#39;bootstrap.bundle.min.js&#39;</span> <span class="cp">%}</span><span class="x">&quot;&gt;&lt;/script&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">scripts</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="x">&lt;/body&gt;</span>

<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>register.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container py-5&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row justify-content-center&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-lg-8&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card shadow-lg border-0&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white py-3&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h2</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0 text-center&quot;</span><span class="o">&gt;</span><span class="n">Регистрация</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body p-4&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span> <span class="n">enctype</span><span class="o">=</span><span class="s2">&quot;multipart/form-data&quot;</span> <span class="n">novalidate</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>

                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-danger&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Ошибка</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">strong</span><span class="o">&gt;</span> <span class="n">Пожалуйста</span><span class="p">,</span> <span class="n">исправьте</span> <span class="n">следующие</span> <span class="n">ошибки</span><span class="p">:</span>
                                <span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">errors</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">items</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                            <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Личная</span> <span class="n">информация</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-primary mb-3&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-person-vcard me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Личная</span> <span class="n">информация</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_first_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Имя</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.first_name.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_first_name&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;first_name&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.first_name.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">first_name</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">first_name</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_last_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Фамилия</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.last_name.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_last_name&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;last_name&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.last_name.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">last_name</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">last_name</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_username&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Логин</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.username.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_username&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.username.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.email.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_email&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.email.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Контактные</span> <span class="n">данные</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-primary mb-3&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-telephone me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Контактные</span> <span class="n">данные</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_phone&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;tel&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.phone.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_phone&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.phone.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;+79991234567&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">phone</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">phone</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_birth_date&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Дата</span> <span class="n">рождения</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;date&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.birth_date.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_birth_date&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;birth_date&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.birth_date.value|default_if_none:&#39;&#39;|date:&#39;Y-m-d&#39; }}&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">birth_date</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">birth_date</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_gender&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Пол</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-select {</span><span class="si">% i</span><span class="s2">f form.gender.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_gender&quot;</span>
                                            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;gender&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">selected</span><span class="o">&gt;</span><span class="n">Не</span> <span class="n">указан</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;male&quot;</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;male&#39;</span> <span class="o">%</span><span class="p">}</span><span class="n">selected</span><span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Мужской</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;female&quot;</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;female&#39;</span> <span class="o">%</span><span class="p">}</span><span class="n">selected</span><span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Женский</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;other&quot;</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;other&#39;</span> <span class="o">%</span><span class="p">}</span><span class="n">selected</span><span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Другое</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_age&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Возраст</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.age.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_age&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;age&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.age.value|default_if_none:&#39;&#39; }}&quot;</span>
                                        <span class="nb">min</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="nb">max</span><span class="o">=</span><span class="s2">&quot;120&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">age</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">age</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Адрес</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-primary mb-3&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-geo-alt me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Адрес</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_country&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Страна</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.country.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_country&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;country&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.country.value|default_if_none:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_city&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Город</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.city.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_city&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;city&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.city.value|default_if_none:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-12&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_address&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Адрес</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.address.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_address&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.address.value|default_if_none:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Профессиональная</span> <span class="n">информация</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-primary mb-3&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-briefcase me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Профессиональная</span> <span class="n">информация</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-12&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_occupation&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Профессия</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.occupation.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_occupation&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;occupation&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.occupation.value|default_if_none:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">occupation</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">occupation</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Аватар</span> <span class="n">и</span> <span class="n">пароль</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-primary mb-3&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-shield-lock me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Безопасность</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_avatar&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Аватар</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_avatar&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;avatar&quot;</span> <span class="n">accept</span><span class="o">=</span><span class="s2">&quot;image/*&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-text&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">form</span><span class="o">.</span><span class="n">avatar</span><span class="o">.</span><span class="n">help_text</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">avatar</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback d-block&quot;</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">avatar</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                    <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-text&quot;</span><span class="o">&gt;</span><span class="n">JPG</span><span class="p">,</span> <span class="n">PNG</span> <span class="n">или</span> <span class="n">GIF</span> <span class="p">(</span><span class="n">макс</span><span class="o">.</span> <span class="mi">5</span><span class="n">MB</span><span class="p">)</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_password1&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Пароль</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.password1.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_password1&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password1&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">password1</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">password1</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_password2&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Подтверждение</span> <span class="n">пароля</span><span class="o">*&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
                                        <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control {</span><span class="si">% i</span><span class="s2">f form.password2.errors %}is-invalid{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_password2&quot;</span>
                                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password2&quot;</span>
                                        <span class="n">required</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">password2</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;invalid-feedback&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">password2</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Кнопка</span> <span class="n">отправки</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid mt-4&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary btn-lg py-3&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-person-plus me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Зарегистрироваться</span>
                            <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mt-4 text-center&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Уже</span> <span class="n">есть</span> <span class="n">аккаунт</span><span class="err">?</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;login&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span><span class="n">Войти</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">extra_js</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">document</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Валидация</span> <span class="n">паролей</span>
    <span class="n">const</span> <span class="n">password1</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;id_password1&#39;</span><span class="p">);</span>
    <span class="n">const</span> <span class="n">password2</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;id_password2&#39;</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">password1</span> <span class="o">&amp;&amp;</span> <span class="n">password2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">password1</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">password1</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">length</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">password1</span><span class="o">.</span><span class="n">setCustomValidity</span><span class="p">(</span><span class="s1">&#39;Пароль должен содержать минимум 8 символов&#39;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">password1</span><span class="o">.</span><span class="n">setCustomValidity</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="n">password2</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">password1</span><span class="o">.</span><span class="n">value</span> <span class="o">!==</span> <span class="n">password2</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">password2</span><span class="o">.</span><span class="n">setCustomValidity</span><span class="p">(</span><span class="s1">&#39;Пароли не совпадают&#39;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">password2</span><span class="o">.</span><span class="n">setCustomValidity</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">Маска</span> <span class="n">для</span> <span class="n">телефона</span>
    <span class="n">const</span> <span class="n">phoneInput</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;id_phone&#39;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">phoneInput</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">phoneInput</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">let</span> <span class="n">val</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">D</span><span class="o">/</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="n">val</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s1">&#39;+7&#39;</span> <span class="o">+</span> <span class="n">val</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">length</span> <span class="o">===</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;9&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s1">&#39;+7&#39;</span> <span class="o">+</span> <span class="n">val</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">val</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="err">!</span><span class="n">val</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="err">!</span><span class="n">val</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;9&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="n">val</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">this</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">Валидация</span> <span class="n">формы</span> <span class="n">при</span> <span class="n">отправке</span>
    <span class="n">const</span> <span class="n">form</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">querySelector</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span>
    <span class="n">form</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">form</span><span class="o">.</span><span class="n">checkValidity</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">event</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
            <span class="n">event</span><span class="o">.</span><span class="n">stopPropagation</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">form</span><span class="o">.</span><span class="n">classList</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;was-validated&#39;</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>catalog.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Каталог</span> <span class="n">товаров</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Боковая</span> <span class="n">панель</span> <span class="n">с</span> <span class="n">фильтрами</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-3&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Фильтры</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;get&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Поиск</span> <span class="o">--&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;search&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Поиск</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;search&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;q&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ search_query }}&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Категории</span> <span class="o">--&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;category&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Категория</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-select&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;category&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="n">Все</span> <span class="n">категории</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">categories</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ category.id }}&quot;</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">selected_category</span> <span class="o">==</span> <span class="n">category</span><span class="o">.</span><span class="n">id</span><span class="o">|</span><span class="n">stringformat</span><span class="p">:</span><span class="s2">&quot;s&quot;</span> <span class="o">%</span><span class="p">}</span><span class="n">selected</span><span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span><span class="o">&gt;</span>
                                <span class="p">{{</span> <span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span>
                            <span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Цена</span> <span class="o">--&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;min_price&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Минимальная</span> <span class="n">цена</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;min_price&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;min_price&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ min_price }}&quot;</span> <span class="nb">min</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;max_price&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Максимальная</span> <span class="n">цена</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;max_price&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;max_price&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ max_price }}&quot;</span> <span class="nb">min</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Кнопка</span> <span class="n">применения</span> <span class="n">фильтров</span> <span class="o">--&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Применить</span> <span class="n">фильтры</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-secondary&quot;</span><span class="o">&gt;</span><span class="n">Сбросить</span> <span class="n">фильтры</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Основной</span> <span class="n">контент</span> <span class="n">с</span> <span class="n">товарами</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-9&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">h2</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Каталог</span> <span class="n">товаров</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>

        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">products</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row row-cols-1 row-cols-md-3 g-4&quot;</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card h-100&quot;</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ product.image.url }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-img-top&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ product.name }}&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;height: 200px; object-fit: cover;&quot;</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light text-center py-5&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted&quot;</span><span class="o">&gt;</span><span class="n">Нет</span> <span class="n">изображения</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-title&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text text-truncate&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">description</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span><span class="o">&gt;&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Цена</span><span class="p">:</span> <span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">strong</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-footer d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;product_detail&#39; product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Подробнее</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;add_to_cart&#39; product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-success&quot;</span><span class="o">&gt;</span><span class="n">В</span> <span class="n">корзину</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
            <span class="n">Товары</span> <span class="n">не</span> <span class="n">найдены</span><span class="o">.</span> <span class="n">Попробуйте</span> <span class="n">изменить</span> <span class="n">параметры</span> <span class="n">фильтрации</span><span class="o">.</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>checkout.html</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Оформление</span> <span class="n">заказа</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Оформление</span> <span class="n">заказа</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-8&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Данные</span> <span class="n">для</span> <span class="n">доставки</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>

                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-danger&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">form</span> <span class="o">%</span><span class="p">}</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">field</span><span class="o">.</span><span class="n">errors</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">field</span><span class="o">.</span><span class="n">label</span> <span class="p">}}:</span> <span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">non_field_errors</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">error</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_shipping_address&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Адрес</span> <span class="n">доставки</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">textarea</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_shipping_address&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;shipping_address&quot;</span> <span class="n">rows</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">form</span><span class="o">.</span><span class="n">shipping_address</span><span class="o">.</span><span class="n">value</span><span class="o">|</span><span class="n">default</span><span class="p">:</span><span class="s1">&#39;&#39;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">textarea</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_phone&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;tel&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_phone&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.phone.value|default:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;id_email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;id_email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.email.value|default:&#39;&#39; }}&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary btn-lg&quot;</span><span class="o">&gt;</span><span class="n">Подтвердить</span> <span class="n">заказ</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Ваш</span> <span class="n">заказ</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart_items</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between align-items-center&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">small</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-block text-muted&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">quantity</span> <span class="p">}}</span> <span class="err">×</span> <span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">small</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-primary rounded-pill&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">get_total</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-footer&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-between align-items-center&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Итого</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>contacts.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Контакты</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container py-5&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Контакты</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span><span class="n">Наш</span> <span class="n">адрес</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">г</span><span class="o">.</span> <span class="n">ВашГород</span><span class="p">,</span> <span class="n">ул</span><span class="o">.</span> <span class="n">Примерная</span><span class="p">,</span> <span class="n">д</span><span class="o">.</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;tel:+79991234567&quot;</span><span class="o">&gt;+</span><span class="mi">7</span> <span class="p">(</span><span class="mi">999</span><span class="p">)</span> <span class="mi">123</span><span class="o">-</span><span class="mi">45</span><span class="o">-</span><span class="mi">67</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span><span class="n">Email</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;mailto:info@example.com&quot;</span><span class="o">&gt;</span><span class="n">info</span><span class="nd">@example</span><span class="o">.</span><span class="n">com</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span><span class="n">Мы</span> <span class="n">на</span> <span class="n">карте</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100%&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Вставьте</span> <span class="n">сюда</span> <span class="n">карту</span><span class="p">,</span> <span class="n">например</span><span class="p">,</span> <span class="n">Яндекс</span> <span class="n">или</span> <span class="n">Google</span> <span class="o">--&gt;</span>
                <span class="o">&lt;</span><span class="n">iframe</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;https://yandex.ru/map-widget/v1/?um=constructor%3Aexample&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;300&quot;</span> <span class="n">frameborder</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;&lt;/</span><span class="n">iframe</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>main_page.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span> <span class="o">-</span> <span class="n">Интернет</span><span class="o">-</span><span class="n">магазин</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Слайдер</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mainSlider&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel slide mb-5&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">ride</span><span class="o">=</span><span class="s2">&quot;carousel&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-indicators&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#mainSlider&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">slide</span><span class="o">-</span><span class="n">to</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;active&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">current</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Слайд 1&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#mainSlider&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">slide</span><span class="o">-</span><span class="n">to</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Слайд 2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#mainSlider&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">slide</span><span class="o">-</span><span class="n">to</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Слайд 3&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-inner&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-item active&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% s</span><span class="s2">tatic &#39;images/slide1.jpg&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-block w-100&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Слайд 1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-caption d-none d-md-block&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Добро</span> <span class="n">пожаловать</span> <span class="n">в</span> <span class="c1">#МОЙНЕСАМ&lt;/h2&gt;</span>
                <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Лучшие</span> <span class="n">товары</span> <span class="n">по</span> <span class="n">доступным</span> <span class="n">ценам</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Перейти</span> <span class="n">в</span> <span class="n">каталог</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-item&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% s</span><span class="s2">tatic &#39;images/slide2.jpg&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-block w-100&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Слайд 2&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-caption d-none d-md-block&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Акции</span> <span class="n">и</span> <span class="n">скидки</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Специальные</span> <span class="n">предложения</span> <span class="n">для</span> <span class="n">наших</span> <span class="n">клиентов</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Смотреть</span> <span class="n">акции</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-item&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% s</span><span class="s2">tatic &#39;images/slide3.jpg&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-block w-100&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Слайд 3&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-caption d-none d-md-block&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Быстрая</span> <span class="n">доставка</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Доставим</span> <span class="n">заказ</span> <span class="n">в</span> <span class="n">любую</span> <span class="n">точку</span> <span class="n">страны</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Подробнее</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-control-prev&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#mainSlider&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">slide</span><span class="o">=</span><span class="s2">&quot;prev&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-control-prev-icon&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;visually-hidden&quot;</span><span class="o">&gt;</span><span class="n">Предыдущий</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-control-next&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#mainSlider&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">slide</span><span class="o">=</span><span class="s2">&quot;next&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;carousel-control-next-icon&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;visually-hidden&quot;</span><span class="o">&gt;</span><span class="n">Следующий</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Популярные</span> <span class="n">товары</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">h2</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Популярные</span> <span class="n">товары</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mb-5&quot;</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">popular_products</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card h-100 product-card&quot;</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
                <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ product.image.url }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-img-top&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ product.name }}&quot;</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light d-flex align-items-center justify-content-center&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;height: 200px;&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted&quot;</span><span class="o">&gt;</span><span class="n">Изображение</span> <span class="n">отсутствует</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-title&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text text-muted&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">description</span><span class="o">|</span><span class="n">truncatechars</span><span class="p">:</span><span class="mi">100</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-footer bg-transparent border-top-0&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;product_detail&#39; product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary&quot;</span><span class="o">&gt;</span><span class="n">Подробнее</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;add_to_cart&#39; product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-cart-plus&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">empty</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-12&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Пока</span> <span class="n">нет</span> <span class="n">товаров</span> <span class="n">для</span> <span class="n">отображения</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Преимущества</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">h2</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Почему</span> <span class="n">выбирают</span> <span class="n">нас</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row mb-5&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card h-100 text-center p-4&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-truck display-1 text-primary mb-3&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span><span class="n">Быстрая</span> <span class="n">доставка</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span><span class="o">&gt;</span><span class="n">Доставляем</span> <span class="n">товары</span> <span class="n">в</span> <span class="n">кратчайшие</span> <span class="n">сроки</span> <span class="n">по</span> <span class="n">всей</span> <span class="n">России</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card h-100 text-center p-4&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-shield-check display-1 text-primary mb-3&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span><span class="n">Гарантия</span> <span class="n">качества</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span><span class="o">&gt;</span><span class="n">Все</span> <span class="n">товары</span> <span class="n">проходят</span> <span class="n">тщательную</span> <span class="n">проверку</span> <span class="n">перед</span> <span class="n">отправкой</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card h-100 text-center p-4&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-headset display-1 text-primary mb-3&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span><span class="n">Поддержка</span> <span class="mi">24</span><span class="o">/</span><span class="mi">7</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span><span class="o">&gt;</span><span class="n">Наша</span> <span class="n">команда</span> <span class="n">всегда</span> <span class="n">готова</span> <span class="n">ответить</span> <span class="n">на</span> <span class="n">ваши</span> <span class="n">вопросы</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====o</p>
<p>rder_detail.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Заказ</span> <span class="c1">#{{ order.id }} - МОЙ НЕ САМ{% endblock %}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">nav</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ol</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item&quot;</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;orders&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item active&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">current</span><span class="o">=</span><span class="s2">&quot;page&quot;</span><span class="o">&gt;</span><span class="n">Заказ</span> <span class="c1">#{{ order.id }}&lt;/li&gt;</span>
    <span class="o">&lt;/</span><span class="n">ol</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-8&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Товары</span> <span class="n">в</span> <span class="n">заказе</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body p-0&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-responsive&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover mb-0&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">thead</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Фото</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Товар</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Цена</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Кол</span><span class="o">-</span><span class="n">во</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">order_items</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ item.product.image.url }}&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ item.product.name }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;img-thumbnail&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-width: 80px; max-height: 80px;&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light text-center&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="n">Нет</span> <span class="n">фото</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;product_detail&#39; item.product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">quantity</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">get_total</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">tfoot</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;4&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-end fw-bold&quot;</span><span class="o">&gt;</span><span class="n">Итого</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">tfoot</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Информация</span> <span class="n">о</span> <span class="n">заказе</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Номер</span> <span class="n">заказа</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">id</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Дата</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">created_at</span><span class="o">|</span><span class="n">date</span><span class="p">:</span><span class="s2">&quot;d.m.Y H:i&quot;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Статус</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-warning&quot;</span><span class="o">&gt;</span><span class="n">Ожидает</span> <span class="n">обработки</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;processing&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-info&quot;</span><span class="o">&gt;</span><span class="n">В</span> <span class="n">обработке</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;shipped&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-primary&quot;</span><span class="o">&gt;</span><span class="n">Отправлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;delivered&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-success&quot;</span><span class="o">&gt;</span><span class="n">Доставлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;cancelled&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-danger&quot;</span><span class="o">&gt;</span><span class="n">Отменен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-secondary&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">get_status_display</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Данные</span> <span class="n">доставки</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Адрес</span> <span class="n">доставки</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">shipping_address</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">phone</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">email</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>order_success.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Заказ</span> <span class="n">оформлен</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-center py-5&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">svg</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;80&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;80&quot;</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;currentColor&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-check-circle-fill text-success&quot;</span> <span class="n">viewBox</span><span class="o">=</span><span class="s2">&quot;0 0 16 16&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">path</span> <span class="n">d</span><span class="o">=</span><span class="s2">&quot;M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">svg</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;display-4 mb-4&quot;</span><span class="o">&gt;</span><span class="n">Заказ</span> <span class="n">успешно</span> <span class="n">оформлен</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;lead mb-4&quot;</span><span class="o">&gt;</span><span class="n">Ваш</span> <span class="n">заказ</span> <span class="c1">#{{ order.id }} был успешно оформлен. Мы свяжемся с вами в ближайшее время.&lt;/p&gt;</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4 mx-auto&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-width: 600px;&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Детали</span> <span class="n">заказа</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Номер</span> <span class="n">заказа</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">id</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Дата</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">created_at</span><span class="o">|</span><span class="n">date</span><span class="p">:</span><span class="s2">&quot;d.m.Y H:i&quot;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Статус</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-warning&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">get_status_display</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Адрес</span> <span class="n">доставки</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">shipping_address</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center gap-3&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;orders&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary&quot;</span><span class="o">&gt;</span><span class="n">Продолжить</span> <span class="n">покупки</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>orders.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Мои</span> <span class="n">заказы</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">orders</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-responsive&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">thead</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="err">№</span> <span class="n">заказа</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Дата</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Статус</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Действия</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">id</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">created_at</span><span class="o">|</span><span class="n">date</span><span class="p">:</span><span class="s2">&quot;d.m.Y H:i&quot;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-warning&quot;</span><span class="o">&gt;</span><span class="n">Ожидает</span> <span class="n">обработки</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;processing&#39;</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-info&quot;</span><span class="o">&gt;</span><span class="n">В</span> <span class="n">обработке</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;shipped&#39;</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-primary&quot;</span><span class="o">&gt;</span><span class="n">Отправлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;delivered&#39;</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-success&quot;</span><span class="o">&gt;</span><span class="n">Доставлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;cancelled&#39;</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-danger&quot;</span><span class="o">&gt;</span><span class="n">Отменен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-secondary&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">get_status_display</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;order_detail&#39; order.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-sm btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Подробнее</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">У</span> <span class="n">вас</span> <span class="n">пока</span> <span class="n">нет</span> <span class="n">заказов</span><span class="o">.</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert-link&quot;</span><span class="o">&gt;</span><span class="n">Перейти</span> <span class="n">в</span> <span class="n">каталог</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>product_detail.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}{{</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">nav</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ol</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item&quot;</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Каталог</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">category</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item&quot;</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}?category={{ product.category.id }}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item active&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">current</span><span class="o">=</span><span class="s2">&quot;page&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ol</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Изображение</span> <span class="n">товара</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-5&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ product.image.url }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-img-top&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ product.name }}&quot;</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light text-center py-5&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;height: 300px;&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted&quot;</span><span class="o">&gt;</span><span class="n">Нет</span> <span class="n">изображения</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Информация</span> <span class="n">о</span> <span class="n">товаре</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-7&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">category</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted&quot;</span><span class="o">&gt;</span><span class="n">Категория</span><span class="p">:</span> <span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>

        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fs-4 fw-bold mb-4&quot;</span><span class="o">&gt;</span><span class="n">Цена</span><span class="p">:</span> <span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span><span class="n">Описание</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">product</span><span class="o">.</span><span class="n">description</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex flex-wrap gap-2 mb-4&quot;</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;add_to_cart&#39; product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary btn-lg&quot;</span><span class="o">&gt;</span><span class="n">Добавить</span> <span class="n">в</span> <span class="n">корзину</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;login&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Войдите</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span> <span class="n">или</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;register&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">зарегистрируйтесь</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">чтобы</span> <span class="n">добавить</span> <span class="n">товар</span> <span class="n">в</span> <span class="n">корзину</span><span class="o">.</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>profile.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Личный</span> <span class="n">кабинет</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-3&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Меню</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#profile-data&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item list-group-item-action&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">toggle</span><span class="o">=</span><span class="s2">&quot;tab&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">данные</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#orders&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item list-group-item-action&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">toggle</span><span class="o">=</span><span class="s2">&quot;tab&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-9&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-content&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Профиль</span> <span class="n">пользователя</span> <span class="o">--&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-pane fade show active&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;profile-data&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">данные</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span> <span class="n">enctype</span><span class="o">=</span><span class="s2">&quot;multipart/form-data&quot;</span><span class="o">&gt;</span>
                                <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-3 text-center mb-3&quot;</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">avatar</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ user.avatar.url }}&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ user.username }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;img-fluid rounded-circle mb-2&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-width: 150px; max-height: 150px;&quot;</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center mx-auto&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 150px; height: 150px;&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;display-4&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="o">|</span><span class="nb">slice</span><span class="p">:</span><span class="s2">&quot;:1&quot;</span><span class="o">|</span><span class="n">upper</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mt-2&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;avatar&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Изменить</span> <span class="n">фото</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control form-control-sm&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;avatar&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;avatar&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-9&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row g-3&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;username&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Имя</span> <span class="n">пользователя</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;username&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.username }}&quot;</span> <span class="n">readonly</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Электронная</span> <span class="n">почта</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.email }}&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;first_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Имя</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;first_name&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;first_name&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.first_name }}&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;last_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Фамилия</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;last_name&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;last_name&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.last_name }}&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;tel&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.phone }}&quot;</span>
                                                    <span class="n">pattern</span><span class="o">=</span><span class="s2">&quot;^\+7\d</span><span class="si">{10}</span><span class="s2">$&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Формат: +7XXXXXXXXXX&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-text&quot;</span><span class="o">&gt;</span><span class="n">Формат</span><span class="p">:</span> <span class="o">+</span><span class="mi">7</span><span class="n">XXXXXXXXXX</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;country&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Страна</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;country&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;country&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.country }}&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;city&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Город</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;city&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;city&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ user.city }}&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-12&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;address&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Адрес</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">textarea</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;address&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span> <span class="n">rows</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">user</span><span class="o">.</span><span class="n">address</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">textarea</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2 d-md-flex justify-content-md-end&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Сохранить</span> <span class="n">изменения</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Заказы</span> <span class="n">пользователя</span> <span class="o">--&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-pane fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;orders&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">orders</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-responsive&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">thead</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="err">№</span> <span class="n">заказа</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Дата</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Статус</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Действия</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="c1">#{{ order.id }}&lt;/td&gt;</span>
                                            <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">created_at</span><span class="o">|</span><span class="n">date</span><span class="p">:</span><span class="s2">&quot;d.m.Y H:i&quot;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-warning&quot;</span><span class="o">&gt;</span><span class="n">Ожидает</span> <span class="n">обработки</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;processing&#39;</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-primary&quot;</span><span class="o">&gt;</span><span class="n">В</span> <span class="n">обработке</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;shipped&#39;</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-info&quot;</span><span class="o">&gt;</span><span class="n">Отправлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;delivered&#39;</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-success&quot;</span><span class="o">&gt;</span><span class="n">Доставлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;cancelled&#39;</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-danger&quot;</span><span class="o">&gt;</span><span class="n">Отменен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-secondary&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                            <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;order_detail&#39; order.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-sm btn-outline-primary&quot;</span><span class="o">&gt;</span><span class="n">Подробнее</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                                            <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">У</span> <span class="n">вас</span> <span class="n">пока</span> <span class="n">нет</span> <span class="n">заказов</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">scripts</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">//</span> <span class="n">Активация</span> <span class="n">табов</span> <span class="n">через</span> <span class="n">URL</span><span class="o">-</span><span class="n">хэш</span>
    <span class="n">document</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">const</span> <span class="nb">hash</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">hash</span> <span class="o">||</span> <span class="s1">&#39;#profile-data&#39;</span><span class="p">;</span>
        <span class="n">const</span> <span class="n">tabElement</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">querySelector</span><span class="p">(</span><span class="err">`</span><span class="n">a</span><span class="p">[</span><span class="n">href</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{hash}</span><span class="s2">&quot;</span><span class="p">]</span><span class="err">`</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tabElement</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">const</span> <span class="n">tab</span> <span class="o">=</span> <span class="n">new</span> <span class="n">bootstrap</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="n">tabElement</span><span class="p">);</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="o">//</span> <span class="n">Валидация</span> <span class="n">номера</span> <span class="n">телефона</span>
    <span class="n">document</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">const</span> <span class="n">phoneInput</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">phoneInput</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">phoneInput</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">let</span> <span class="n">value</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">value</span><span class="p">;</span>
                <span class="o">//</span> <span class="n">Убираем</span> <span class="n">все</span> <span class="n">нецифровые</span> <span class="n">символы</span><span class="p">,</span> <span class="n">кроме</span> <span class="n">плюса</span> <span class="n">в</span> <span class="n">начале</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">))</span> <span class="p">{</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">D</span><span class="o">/</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="o">//</span> <span class="n">Если</span> <span class="n">нет</span> <span class="n">плюса</span> <span class="n">в</span> <span class="n">начале</span><span class="p">,</span> <span class="n">добавляем</span> <span class="n">его</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">D</span><span class="o">/</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="o">//</span> <span class="n">Обеспечиваем</span> <span class="n">формат</span> <span class="o">+</span><span class="mi">7</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="err">!</span><span class="n">value</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;+7&#39;</span><span class="p">))</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">))</span> <span class="p">{</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;+7&#39;</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;+7&#39;</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

                <span class="o">//</span> <span class="n">Ограничение</span> <span class="n">длины</span> <span class="p">(</span><span class="n">не</span> <span class="n">больше</span> <span class="mi">12</span> <span class="n">символов</span><span class="p">:</span> <span class="o">+</span><span class="mi">7</span> <span class="n">и</span> <span class="mi">10</span> <span class="n">цифр</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="n">this</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>admin.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.admin</span><span class="w"> </span><span class="kn">import</span> <span class="n">UserAdmin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">CustomUser</span><span class="p">,</span>
    <span class="n">Category</span><span class="p">,</span>
    <span class="n">Product</span><span class="p">,</span>
    <span class="n">CartItem</span><span class="p">,</span>
    <span class="n">Order</span><span class="p">,</span>
    <span class="n">OrderItem</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomUserAdmin</span><span class="p">(</span><span class="n">UserAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">,</span> <span class="s1">&#39;is_staff&#39;</span><span class="p">)</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">)</span>
    <span class="n">ordering</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,)</span>

    <span class="n">fieldsets</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">)}),</span>
        <span class="p">(</span><span class="s1">&#39;Personal info&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">)}),</span>
        <span class="p">(</span><span class="s1">&#39;Permissions&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;is_active&#39;</span><span class="p">,</span> <span class="s1">&#39;is_staff&#39;</span><span class="p">,</span> <span class="s1">&#39;is_superuser&#39;</span><span class="p">,</span> <span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="s1">&#39;user_permissions&#39;</span><span class="p">)}),</span>
        <span class="p">(</span><span class="s1">&#39;Important dates&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;last_login&#39;</span><span class="p">,</span> <span class="s1">&#39;date_joined&#39;</span><span class="p">)}),</span>
        <span class="p">(</span><span class="s1">&#39;Additional info&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;birth_date&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;avatar&#39;</span><span class="p">)}),</span>
    <span class="p">)</span>

<span class="c1"># Register CustomUser with a custom admin</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">CustomUser</span><span class="p">,</span> <span class="n">CustomUserAdmin</span><span class="p">)</span>

<span class="c1"># Register Category</span>
<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CategoryAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,)</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,)</span>

<span class="c1"># Register Product</span>
<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Product</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ProductAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">)</span>
    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,)</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">)</span>

<span class="c1"># Register CartItem</span>
<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">CartItem</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CartItemAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">)</span>
    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,)</span>

<span class="c1"># Register Order</span>
<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Order</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;total_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">)</span>
    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">)</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user__username&#39;</span><span class="p">,</span> <span class="s1">&#39;shipping_address&#39;</span><span class="p">)</span>

<span class="c1"># Register OrderItem</span>
<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">OrderItem</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderItemAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">,)</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>header.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">header</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light py-3 mb-4 border-bottom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-between align-items-center&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &quot;</span><span class="n">main_page</span><span class="s2">&quot; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex align-items-center text-decoration-none&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% s</span><span class="s2">tatic &#39;images/logo.png&#39; %}&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Логотип&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;me-2&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-height: 40px;&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fs-4 fw-bold text-primary&quot;</span><span class="o">&gt;</span><span class="c1">#МОЙНЕСАМ&lt;/span&gt;</span>
            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>

            <span class="o">&lt;</span><span class="n">nav</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar navbar-expand-lg navbar-light&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-toggler&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">toggle</span><span class="o">=</span><span class="s2">&quot;collapse&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#navbarNav&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">controls</span><span class="o">=</span><span class="s2">&quot;navbarNav&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">expanded</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Переключить навигацию&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-toggler-icon&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;collapse navbar-collapse&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;navbarNav&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Каталог</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;contacts&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Контакты</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>

            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex align-items-center&quot;</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;cart&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary me-2 position-relative&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-cart&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span> <span class="n">Корзина</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger&quot;</span><span class="o">&gt;</span>
                            <span class="p">{{</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">cart_items</span><span class="o">.</span><span class="n">count</span> <span class="p">}}</span>
                        <span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_superuser</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &quot;</span><span class="n">admin</span><span class="p">:</span><span class="n">index</span><span class="s2">&quot; %}&quot;</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary me-2&quot;</span><span class="o">&gt;</span><span class="n">Админ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;profile&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary me-2&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-person&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">first_name</span> <span class="o">%</span><span class="p">}</span>
                            <span class="p">{{</span> <span class="n">user</span><span class="o">.</span><span class="n">first_name</span> <span class="p">}}</span>
                        <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                            <span class="n">Профиль</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;logout&#39; %}&quot;</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-inline&quot;</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-danger&quot;</span><span class="o">&gt;</span><span class="n">Выйти</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &quot;</span><span class="n">register</span><span class="s2">&quot; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary me-2&quot;</span><span class="o">&gt;</span><span class="n">Регистрация</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &quot;</span><span class="n">login</span><span class="s2">&quot; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Войти</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">header</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>cart.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Корзина</span> <span class="o">-</span> <span class="n">МОЙ</span> <span class="n">НЕ</span> <span class="n">САМ</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="o">&gt;</span><span class="n">Корзина</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">cart_items</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Товары</span> <span class="n">в</span> <span class="n">корзине</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body p-0&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-responsive&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover mb-0&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">thead</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Фото</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Товар</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 150px;&quot;</span><span class="o">&gt;</span><span class="n">Цена</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 150px;&quot;</span><span class="o">&gt;</span><span class="n">Количество</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 150px;&quot;</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 80px;&quot;</span><span class="o">&gt;</span><span class="n">Действия</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart_items</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ item.product.image.url }}&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ item.product.name }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;img-thumbnail&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-width: 80px; max-height: 80px;&quot;</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light text-center&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="n">Нет</span> <span class="n">фото</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;product_detail&#39; item.product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span> <span class="o">%</span><span class="p">}</span>
                                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;update_cart_item&#39; item.id %}&quot;</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex&quot;</span><span class="o">&gt;</span>
                                            <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
                                            <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ item.quantity }}&quot;</span> <span class="nb">min</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="nb">max</span><span class="o">=</span><span class="s2">&quot;99&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control form-control-sm&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 70px;&quot;</span><span class="o">&gt;</span>
                                            <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-sm btn-outline-primary ms-2&quot;</span><span class="o">&gt;</span>
                                                <span class="n">Обновить</span>
                                            <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">get_total</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;remove_from_cart&#39; item.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-sm btn-outline-danger&quot;</span><span class="o">&gt;</span>
                                            <span class="n">Удалить</span>
                                        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">tfoot</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;4&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-end fw-bold&quot;</span><span class="o">&gt;</span><span class="n">Итого</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tfoot</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-footer&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-outline-primary&quot;</span><span class="o">&gt;</span>
                        <span class="n">Продолжить</span> <span class="n">покупки</span>
                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;checkout&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-success&quot;</span><span class="o">&gt;</span>
                        <span class="n">Оформить</span> <span class="n">заказ</span>
                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert alert-info&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Ваша</span> <span class="n">корзина</span> <span class="n">пуста</span><span class="o">.</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;catalog&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;alert-link&quot;</span><span class="o">&gt;</span><span class="n">Перейти</span> <span class="n">в</span> <span class="n">каталог</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>styles.css</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">/* Основные цвета */</span>
<span class="w">    </span><span class="nv">--primary-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0d6efd</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--primary-hover-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0b5ed7</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--secondary-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#6c757d</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--success-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#198754</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--info-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0dcaf0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--warning-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffc107</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--danger-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#dc3545</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f9fa</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--dark-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#212529</span><span class="p">;</span>

<span class="w">    </span><span class="c">/* Оттенки */</span>
<span class="w">    </span><span class="nv">--primary-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#cfe2ff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--secondary-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e2e3e5</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--success-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d1e7dd</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--info-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#cff4fc</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--warning-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff3cd</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--danger-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8d7da</span><span class="p">;</span>

<span class="w">    </span><span class="c">/* Текст */</span>
<span class="w">    </span><span class="nv">--text-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#212529</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--text-muted-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#6c757d</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--text-white-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>

<span class="w">    </span><span class="c">/* Фон */</span>
<span class="w">    </span><span class="nv">--bg-white-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--bg-light-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f9fa</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--bg-dark-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#212529</span><span class="p">;</span>

<span class="w">    </span><span class="c">/* Границы */</span>
<span class="w">    </span><span class="nv">--border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#dee2e6</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Стили для футера, закрепленного внизу страницы */</span>
<span class="nt">html</span><span class="o">,</span><span class="w"> </span><span class="nt">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">    </span><span class="k">flex-direction</span><span class="p">:</span><span class="w"> </span><span class="kc">column</span><span class="p">;</span>
<span class="w">    </span><span class="k">min-height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">flex</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">footer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">flex-shrink</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Переопределение цветов Bootstrap */</span>
<span class="p">.</span><span class="nc">bg-primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-secondary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--secondary-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-success</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--success-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-info</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--info-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-warning</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--warning-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-danger</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-light</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--light-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">bg-dark</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Текстовые цвета */</span>
<span class="p">.</span><span class="nc">text-primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-secondary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--secondary-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-success</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--success-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-info</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--info-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-warning</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--warning-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-danger</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-light</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--light-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-dark</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--dark-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-muted</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--text-muted-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Кнопки */</span>
<span class="p">.</span><span class="nc">btn-primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-primary</span><span class="p">:</span><span class="nd">hover</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">btn-primary</span><span class="p">:</span><span class="nd">focus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-hover-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-hover-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-secondary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--secondary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--secondary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-success</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--success-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--success-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-danger</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-outline-primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-outline-primary</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-outline-danger</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn-outline-danger</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--danger-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Компоненты */</span>
<span class="p">.</span><span class="nc">card-header</span><span class="p">.</span><span class="nc">bg-primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">border</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--border-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">border-bottom</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">border-bottom-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--border-color</span><span class="p">)</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Слайдер на главной странице */</span>
<span class="p">.</span><span class="nc">carousel-item</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">carousel-item</span><span class="w"> </span><span class="nt">img</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">object-fit</span><span class="p">:</span><span class="w"> </span><span class="kc">cover</span><span class="p">;</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">carousel-caption</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Пагинация */</span>
<span class="p">.</span><span class="nc">pagination</span><span class="w"> </span><span class="p">.</span><span class="nc">page-item</span><span class="p">.</span><span class="nc">active</span><span class="w"> </span><span class="p">.</span><span class="nc">page-link</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">pagination</span><span class="w"> </span><span class="p">.</span><span class="nc">page-link</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Формы */</span>
<span class="p">.</span><span class="nc">form-control</span><span class="p">:</span><span class="nd">focus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mf">0.25</span><span class="kt">rem</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">110</span><span class="p">,</span><span class="w"> </span><span class="mi">253</span><span class="p">,</span><span class="w"> </span><span class="mf">0.25</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Хлебные крошки */</span>
<span class="p">.</span><span class="nc">breadcrumb-item</span><span class="p">.</span><span class="nc">active</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--text-muted-color</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">breadcrumb-item</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--primary-color</span><span class="p">);</span>
<span class="w">    </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Карточки товаров */</span>
<span class="p">.</span><span class="nc">product-card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">transition</span><span class="p">:</span><span class="w"> </span><span class="k">transform</span><span class="w"> </span><span class="mf">0.3</span><span class="kt">s</span><span class="p">,</span><span class="w"> </span><span class="k">box-shadow</span><span class="w"> </span><span class="mf">0.3</span><span class="kt">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-card</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">-5</span><span class="kt">px</span><span class="p">);</span>
<span class="w">    </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-card</span><span class="w"> </span><span class="p">.</span><span class="nc">card-img-top</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">object-fit</span><span class="p">:</span><span class="w"> </span><span class="kc">contain</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ---HEADER--- */</span>
<span class="nt">header</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">    </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">    </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">space-around</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">vw</span><span class="p">;</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--brand</span><span class="p">);</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--onBrandText</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_logo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">    </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">baseline</span><span class="p">;</span>
<span class="w">    </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_logo_image</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_logo_text</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="kt">vw</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_links</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">    </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">    </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_link</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="kt">vw</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>login.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container py-5&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row justify-content-center&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-8 col-lg-6&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card shadow-sm&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">h2</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;h4 mb-0 text-center&quot;</span><span class="o">&gt;</span><span class="n">Вход</span> <span class="n">в</span> <span class="n">систему</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body p-4&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav nav-tabs nav-justified mb-4&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;authTabs&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;tablist&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;presentation&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;phone&#39; %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                            <span class="n">href</span><span class="o">=</span><span class="s2">&quot;?tab=phone&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;phone-tab&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-phone me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">По</span> <span class="n">телефону</span>
                            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;presentation&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;email&#39; %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                            <span class="n">href</span><span class="o">=</span><span class="s2">&quot;?tab=email&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;email-tab&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-envelope me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">По</span> <span class="n">email</span>
                            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;presentation&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;username&#39; %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span>
                            <span class="n">href</span><span class="o">=</span><span class="s2">&quot;?tab=username&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;login-tab&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-person me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">По</span> <span class="n">логину</span>
                            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-content&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Вход</span> <span class="n">по</span> <span class="n">телефону</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-pane fade {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;phone&#39; %}show active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="o">&gt;</span>
                                <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;auth_type&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Номер</span> <span class="n">телефона</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;tel&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;phone&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.phone.value|default_if_none:&#39;&#39; }}&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Пароль</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-box-arrow-in-right me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Войти</span>
                                    <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Вход</span> <span class="n">по</span> <span class="n">email</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-pane fade {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;email&#39; %}show active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;email&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="o">&gt;</span>
                                <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;auth_type&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;email&quot;</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.email.value|default_if_none:&#39;&#39; }}&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Пароль</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-box-arrow-in-right me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Войти</span>
                                    <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                        <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Вход</span> <span class="n">по</span> <span class="n">логину</span> <span class="o">--&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tab-pane fade {</span><span class="si">% i</span><span class="s2">f active_tab == &#39;username&#39; %}show active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;login&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="o">&gt;</span>
                                <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;auth_type&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;username&quot;</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;username&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Логин</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;username&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span>
                                        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ form.username.value|default_if_none:&#39;&#39; }}&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-label&quot;</span><span class="o">&gt;</span><span class="n">Пароль</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-grid gap-2&quot;</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bi bi-box-arrow-in-right me-2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Войти</span>
                                    <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mt-4 text-center&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span><span class="n">Забыли</span> <span class="n">пароль</span><span class="err">?</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mx-2&quot;</span><span class="o">&gt;|&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;register&#39; %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span><span class="n">Регистрация</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>==== END OF BLOCK ====</p>
<p>models.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbstractUser</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.utils.translation</span><span class="w"> </span><span class="kn">import</span> <span class="n">gettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomUser</span><span class="p">(</span><span class="n">AbstractUser</span><span class="p">):</span>
    <span class="c1"># Переопределение стандартных полей</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;first name&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;last name&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="c1"># Дополнительные поля</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;phone number&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">address</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;address&#39;</span><span class="p">),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">age</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">),</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">birth_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;birth date&#39;</span><span class="p">),</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">GENDER_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Male&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Female&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;other&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Other&#39;</span><span class="p">)),</span>
    <span class="p">]</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">GENDER_CHOICES</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">city</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">country</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">occupation</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="n">avatar</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImageField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">),</span>
        <span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;avatars/&#39;</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Возвращает полное имя пользователя.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first_name</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_name</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_full_name</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">full_name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">full_name</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span>

<span class="c1"># 1. Модели для каталога</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Category</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">),</span> <span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;categories/&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;categories&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">),</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">),</span> <span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;products/&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;products&#39;</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;created at&#39;</span><span class="p">),</span> <span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>

<span class="c1"># 2. Модель для корзины</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CartItem</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">CustomUser</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;cart_items&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">quantity</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">added_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;added at&#39;</span><span class="p">),</span> <span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;cart item&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;cart items&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_total</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="p">:</span>
             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">price</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span>
        <span class="k">return</span> <span class="mi">0</span>

<span class="c1"># 3. Модели для заказов</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Order</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">ORDER_STATUS_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Pending&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;processing&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Processing&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;shipped&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Shipped&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;delivered&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Delivered&#39;</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;cancelled&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Cancelled&#39;</span><span class="p">)),</span>
    <span class="p">]</span>

    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">CustomUser</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="n">ORDER_STATUS_CHOICES</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;created at&#39;</span><span class="p">),</span> <span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">shipping_address</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;shipping address&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">total_amount</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;total amount&#39;</span><span class="p">),</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Order #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">OrderItem</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;items&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">quantity</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">),</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;order item&#39;</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;order items&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_total</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span>
        <span class="k">return</span>
</pre></div>
</div>
<p>order_detail.html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Заказ</span> <span class="c1">#{{ order.id }} - МОЙ НЕ САМ{% endblock %}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">nav</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ol</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item&quot;</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;orders&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Мои</span> <span class="n">заказы</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;breadcrumb-item active&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">current</span><span class="o">=</span><span class="s2">&quot;page&quot;</span><span class="o">&gt;</span><span class="n">Заказ</span> <span class="c1">#{{ order.id }}&lt;/li&gt;</span>
    <span class="o">&lt;/</span><span class="n">ol</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-8&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Товары</span> <span class="n">в</span> <span class="n">заказе</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body p-0&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-responsive&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover mb-0&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">thead</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Фото</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span><span class="n">Товар</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Цена</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Кол</span><span class="o">-</span><span class="n">во</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">th</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;col&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 100px;&quot;</span><span class="o">&gt;</span><span class="n">Сумма</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">order_items</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">image</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ item.product.image.url }}&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;{{ item.product.name }}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;img-thumbnail&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;max-width: 80px; max-height: 80px;&quot;</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;bg-light text-center&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="n">Нет</span> <span class="n">фото</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
                                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;product_detail&#39; item.product.id %}&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-decoration-none&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                                    <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span> <span class="o">%</span><span class="p">}</span>
                                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-muted small&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                                <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">quantity</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">item</span><span class="o">.</span><span class="n">get_total</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">tfoot</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table-light&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;4&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-end fw-bold&quot;</span><span class="o">&gt;</span><span class="n">Итого</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">td</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">total_amount</span> <span class="p">}}</span> <span class="err">₽</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">tfoot</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-md-4&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Информация</span> <span class="n">о</span> <span class="n">заказе</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Номер</span> <span class="n">заказа</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fw-bold&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">id</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Дата</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">created_at</span><span class="o">|</span><span class="n">date</span><span class="p">:</span><span class="s2">&quot;d.m.Y H:i&quot;</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item d-flex justify-content-between&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Статус</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-warning&quot;</span><span class="o">&gt;</span><span class="n">Ожидает</span> <span class="n">обработки</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;processing&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-info&quot;</span><span class="o">&gt;</span><span class="n">В</span> <span class="n">обработке</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;shipped&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-primary&quot;</span><span class="o">&gt;</span><span class="n">Отправлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;delivered&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-success&quot;</span><span class="o">&gt;</span><span class="n">Доставлен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;cancelled&#39;</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-danger&quot;</span><span class="o">&gt;</span><span class="n">Отменен</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
                            <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;badge bg-secondary&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">get_status_display</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                            <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
                        <span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card mb-4&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-header bg-primary text-white&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="n">Данные</span> <span class="n">доставки</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;card-body&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group list-group-flush&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Адрес</span> <span class="n">доставки</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">shipping_address</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Телефон</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">phone</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h6</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-1&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">h6</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">order</span><span class="o">.</span><span class="n">email</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Авторские права 2025, Irsp-122. </p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>