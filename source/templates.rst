Создание HTML шаблонов
=======================

В этом разделе разберемся как настроить html-шаблоны, использовать static и ссылки.

Первым делом создаем файл, от которого мы будем наследовать элементы страницы. Обычно он называется base.html. Создаем в директории templates.

Базовая html-структура
----------------------

Для начала работы с html файлом нужно задать его структуру. Для этого в html файлах нужно в первой строке написать "!".
Получится готовая струтура html с head и body:

.. code-block:: html

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>

    </body>
    </html>

Следующим шагом нам нужно заполнить страницу данными, которые мы хотим увидеть на каждой странице проекта. Обычно это импорт css-стилей, js-кода и навигация.

Импорт css и js
---------------

Таким образом нам нужно подключить Bootstrap css и js. Импорт css указываем в head, а script в конец body:

.. code-block:: html

    <link href="путь к css-файлу" rel="stylesheet">

    <script src="путь к js-файлу"></script>

Если же мы хотим использовать собственные стили, то лучшим решением будет создать файл styles.css в ранее созданной директории static. Импорт из такой директории осуществляется через запись:

.. code-block:: html

    href="{% static 'путь к файлу относительно папки static' %}"

    #Пример подключения styles.css из папки static
    <link href="{% static "styles.css" %}" rel="stylesheet">

Статика
-------

Не забываем про загрузку статических файлов на странице, где мы их используем (Пишется в начале файла):

.. code-block:: django

    {% load static %}

После подключения стилей и js нужно написать блоки для базовой страницы.

.. note::

    Все блоки можно найти в документации Bootstrap 5. Она уже загружена в Zeal.

Таким образом взяв стандартную панель навигации, добавляем ее в наш base.html.

Указание ссылок
---------------

После вставки панели навигации возникает вопрос о вставке ссылок на страницы. Подробно о ссылках рассказывается здесь: :doc:`urls.rst`
Если говорить в кратце, то для передачи ссылки на станицу необходимо наличие ссылки на эту страницу в urls.py. Для каждой url в этом файле можно установить параметр name. По нему мы и будем указывать url:

.. code-block:: django
    # Использование в urls.py
    path('', views.index, name='home'),
    path('about', views.about, name='about')

.. code-block:: html
    # Использование в html
    <a class="nav-link active" aria-current="page" href="{% url "home" %}">Home</a>
    <a class="nav-link" href="{% url "about" %}">About</a>

Блок контента
---------------

Если мы хотим использовать базовый шаблон для других страниц и на этих страницах вносить дополнительную информацию, то необходимо обозначить это место в шаблоне следующим образом:

.. code-block:: django

    {% block content %}
    
    {% endblock content %}

Таким образом мы показываем, что в этом месте будет блок контента, написанный на других страницах.

Наследование
------------

После того как мы закончили работу над базовым шаблоном, нужно указать для страниц наследование от этого шаблона. Для этого в начале html-файла нужно указать:

.. code-block:: django

    {% extends 'base.html' %}

    # В таком случае статика пишется следующей строкой
    {% load static %}

Теперь нам нужно указать, что мы используем блок контента, который указали ранее в базовом шаблоне, поэтому содержимое страницы должно начинаться с {% block content %} и заканчиваться. {% endblock content %}.

Итог
----

Таким образом у нас получается шаблон, в котором прописаны импорты и элементы, которые можно использовать на всех страницах, а также в базовом шаблоне указан блок контента, который используется для наследования от базового шаблона. Выглядить это должно следующим образом:

.. code-block:: html:

    #base.html:

    {% load static %}
    <!DOCTYPE html>
    ...
    <head>
    ...
    </head>

    <body>
    ...
        {% block content %}
    
        {% endblock content %}
    ...
    </body>
    </html>

.. code-block:: html:

    #index.html:

    {% extends 'base.html' %}
    {% load static %}
    {% block content %}
        ...
    {% endblock content %}